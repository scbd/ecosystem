(("undefined"!==typeof self?self:this)["webpackJsonpPageHeaderTestWidget"]=("undefined"!==typeof self?self:this)["webpackJsonpPageHeaderTestWidget"]||[]).push([[1],{a528:function(t,e,s){"use strict";s.r(e);var o=s("e5c7");s.d(e,"default",(function(){return o["a"]}))},e5c7:function(t,e,s){"use strict";(function(t){/*! MIT License Â© Sindre Sorhus */
const s={},o=e=>"undefined"!==typeof self&&self&&e in self?self:"undefined"!==typeof window&&window&&e in window?window:"undefined"!==typeof t&&t&&e in t?t:"undefined"!==typeof globalThis&&globalThis?globalThis:void 0,r=["Headers","Request","Response","ReadableStream","fetch","AbortController","FormData"];for(const e of r)Object.defineProperty(s,e,{get(){const t=o(e),s=t&&t[e];return"function"===typeof s?s.bind(t):s}});const n=t=>null!==t&&"object"===typeof t,i="function"===typeof s.AbortController,a="function"===typeof s.ReadableStream,h="function"===typeof s.FormData,u=(t,e)=>{const o=new s.Headers(t||{}),r=e instanceof s.Headers,n=new s.Headers(e||{});for(const[s,i]of n)r&&"undefined"===i||void 0===i?o.delete(s):o.set(s,i);return o},f=(...t)=>{let e={},s={};for(const o of t){if(Array.isArray(o))Array.isArray(e)||(e=[]),e=[...e,...o];else if(n(o)){for(let[t,s]of Object.entries(o))n(s)&&Reflect.has(e,t)&&(s=f(e[t],s)),e={...e,[t]:s};n(o.headers)&&(s=u(s,o.headers))}e.headers=s}return e},p=["get","post","put","patch","head","delete"],c={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},d=["get","put","head","delete","options","trace"],l=[408,413,429,500,502,503,504],y=[413,429,503],_=Symbol("stop");class w extends Error{constructor(t){super(t.statusText||String(0===t.status||t.status?t.status:"Unknown response error")),this.name="HTTPError",this.response=t}}class m extends Error{constructor(t){super("Request timed out"),this.name="TimeoutError",this.request=t}}const b=t=>new Promise(e=>setTimeout(e,t)),g=(t,e,s)=>new Promise((o,r)=>{const n=setTimeout(()=>{e&&e.abort(),r(new m(t))},s.timeout);s.fetch(t).then(o).catch(r).then(()=>{clearTimeout(n)})}),R=t=>p.includes(t)?t.toUpperCase():t,q={limit:2,methods:d,statusCodes:l,afterStatusCodes:y},C=(t={})=>{if("number"===typeof t)return{...q,limit:t};if(t.methods&&!Array.isArray(t.methods))throw new Error("retry.methods must be an array");if(t.statusCodes&&!Array.isArray(t.statusCodes))throw new Error("retry.statusCodes must be an array");return{...q,...t,afterStatusCodes:y}},T=2147483647;class E{constructor(t,e={}){if(this._retryCount=0,this._input=t,this._options={credentials:this._input.credentials||"same-origin",...e,headers:u(this._input.headers,e.headers),hooks:f({beforeRequest:[],beforeRetry:[],afterResponse:[]},e.hooks),method:R(e.method||this._input.method),prefixUrl:String(e.prefixUrl||""),retry:C(e.retry),throwHttpErrors:!1!==e.throwHttpErrors,timeout:"undefined"===typeof e.timeout?1e4:e.timeout,fetch:e.fetch||s.fetch},"string"!==typeof this._input&&!(this._input instanceof URL||this._input instanceof s.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"===typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(i&&(this.abortController=new s.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new s.Request(this._input,this._options),this._options.searchParams){const t="?"+new URLSearchParams(this._options.searchParams).toString(),e=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,t);!(h&&this._options.body instanceof s.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new s.Request(new s.Request(e,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new s.Request(this.request,{body:this._options.body}));const o=async()=>{if(this._options.timeout>T)throw new RangeError("The `timeout` option cannot be greater than "+T);await b(1);let t=await this._fetch();for(const e of this._options.hooks.afterResponse){const o=await e(this.request,this._options,t.clone());o instanceof s.Response&&(t=o)}if(!t.ok&&this._options.throwHttpErrors)throw new w(t);if(this._options.onDownloadProgress){if("function"!==typeof this._options.onDownloadProgress)throw new TypeError("The `onDownloadProgress` option must be a function");if(!a)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(t.clone(),this._options.onDownloadProgress)}return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t},r=this._options.retry.methods.includes(this.request.method.toLowerCase()),n=r?this._retry(o):o();for(const[s,i]of Object.entries(c))n[s]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||i);const t=(await n).clone();if("json"===s){if(204===t.status)return"";if(e.parseJson)return e.parseJson(await t.text())}return t[s]()};return n}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof m)){if(t instanceof w){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const e=t.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){let t=Number(e);return Number.isNaN(t)?t=Date.parse(e)-Date.now():t*=1e3,"undefined"!==typeof this._options.retry.maxRetryAfter&&t>this._options.retry.maxRetryAfter?0:t}if(413===t.response.status)return 0}const e=.3;return e*2**(this._retryCount-1)*1e3}return 0}async _retry(t){try{return await t()}catch(e){const s=Math.min(this._calculateRetryDelay(e),T);if(0!==s&&this._retryCount>0){await b(s);for(const t of this._options.hooks.beforeRetry){const s=await t({request:this.request,options:this._options,error:e,response:e.response.clone(),retryCount:this._retryCount});if(s===_)return}return this._retry(t)}if(this._options.throwHttpErrors)throw e}}async _fetch(){for(const t of this._options.hooks.beforeRequest){const e=await t(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}return!1===this._options.timeout?this._options.fetch(this.request.clone()):g(this.request.clone(),this.abortController,this._options)}_stream(t,e){const o=Number(t.headers.get("content-length"))||0;let r=0;return new s.Response(new s.ReadableStream({start(s){const n=t.body.getReader();async function i(){const{done:t,value:a}=await n.read();if(t)s.close();else{if(e){r+=a.byteLength;const t=0===o?0:r/o;e({percent:t,transferredBytes:r,totalBytes:o},a)}s.enqueue(a),i()}}e&&e({percent:0,transferredBytes:0,totalBytes:o},new Uint8Array),i()}}))}}const x=(...t)=>{for(const e of t)if((!n(e)||Array.isArray(e))&&"undefined"!==typeof e)throw new TypeError("The `options` argument must be an object");return f({},...t)},A=t=>{const e=(e,s)=>new E(e,x(t,s));for(const s of p)e[s]=(e,o)=>new E(e,x(t,o,{method:s}));return e.HTTPError=w,e.TimeoutError=m,e.create=t=>A(x(t)),e.extend=e=>A(x(t,e)),e.stop=_,e};e["a"]=A()}).call(this,s("7d15"))}}]);
//# sourceMappingURL=index.umd.min.ky-universal.js.map